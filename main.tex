\documentclass{beamer}

%
% Choose how your presentation looks.
%
% For more themes, color themes and font themes, see:
% http://deic.uab.es/~iblanes/beamer_gallery/index_by_theme.html
%
\mode<presentation>
{
  \usetheme{default}      % or try Darmstadt, Madrid, Warsaw, ...
  \usecolortheme{default} % or try albatross, beaver, crane, ...
  \usefonttheme{default}  % or try serif, structurebold, ...
  \setbeamertemplate{navigation symbols}{}
  \setbeamertemplate{caption}[numbered]
  \setbeamertemplate{footline}[page number]
  \setbeamercolor{frametitle}{fg=white}
  \setbeamercolor{footline}{fg=black}
} 

\usepackage[english]{babel}
\usepackage[utf8x]{inputenc}
\usepackage{tikz}
\usepackage{listings}
\usepackage{courier}

\xdefinecolor{darkblue}{rgb}{0.1,0.1,0.7}
\xdefinecolor{dianablue}{rgb}{0.18,0.24,0.31}
\definecolor{commentgreen}{rgb}{0,0.6,0}
\definecolor{stringmauve}{rgb}{0.58,0,0.82}

\xdefinecolor{aug29}{rgb}{0,0.5,0}
\xdefinecolor{aug31}{rgb}{0.6,0,0.9}

\lstset{ %
  backgroundcolor=\color{white},      % choose the background color
  basicstyle=\ttfamily\small,         % size of fonts used for the code
  breaklines=true,                    % automatic line breaking only at whitespace
  captionpos=b,                       % sets the caption-position to bottom
  commentstyle=\color{commentgreen},  % comment style
  escapeinside={\%*}{*)},             % if you want to add LaTeX within your code
  keywordstyle=\color{blue},          % keyword style
  stringstyle=\color{stringmauve},    % string literal style
  showstringspaces=false,
  showlines=true
}

\lstdefinelanguage{scala}{
  morekeywords={abstract,case,catch,class,def,%
    do,else,extends,false,final,finally,%
    for,if,implicit,import,match,mixin,%
    new,null,object,override,package,%
    private,protected,requires,return,sealed,%
    super,this,throw,trait,true,try,%
    type,val,var,while,with,yield},
  otherkeywords={=>,<-,<\%,<:,>:,\#,@},
  sensitive=true,
  morecomment=[l]{//},
  morecomment=[n]{/*}{*/},
  morestring=[b]",
  morestring=[b]',
  morestring=[b]"""
}

\title[2016-12-05-focus-groups]{Focus groups: physicist attitudes toward software}
\author{Jim Pivarski}
\institute{Princeton University -- DIANA}
\date{December 5, 2016}

\begin{document}

\logo{\pgfputat{\pgfxy(0.11, 8)}{\pgfbox[right,base]{\tikz{\filldraw[fill=dianablue, draw=none] (0 cm, 0 cm) rectangle (50 cm, 1 cm);}}}\pgfputat{\pgfxy(0.11, -0.6)}{\pgfbox[right,base]{\tikz{\filldraw[fill=dianablue, draw=none] (0 cm, 0 cm) rectangle (50 cm, 1 cm);}\includegraphics[height=0.99 cm]{diana-hep-logo.png}\tikz{\filldraw[fill=dianablue, draw=none] (0 cm, 0 cm) rectangle (4.9 cm, 1 cm);}}}}

\begin{frame}
  \titlepage
\end{frame}

\logo{\pgfputat{\pgfxy(0.11, 8)}{\pgfbox[right,base]{\tikz{\filldraw[fill=dianablue, draw=none] (0 cm, 0 cm) rectangle (50 cm, 1 cm);}\includegraphics[height=1 cm]{diana-hep-logo.png}}}}

% Uncomment these lines for an automatically generated outline.
%\begin{frame}{Outline}
%  \tableofcontents
%\end{frame}

\begin{frame}{Introduction}

\begin{block}{\underline{What}}
I conducted two directed conversations--- focus groups--- with young physicists to find out how they use software and what they like and dislike about it.
\end{block}

\begin{block}{\underline{Why}}
Some comments made among software developers seemed, to me, to be wildly out of touch with physicists' concerns or reflected the concerns of physicists who are no longer actively analyzing data (fingers on the keyboard).

\begin{uncoverenv}<2->
\vspace{0.2 cm}
\textcolor{darkblue}{But then, maybe I'm the one who's out of touch.}

\vspace{0.2 cm}
\textcolor{darkblue}{Is there a way to determine this objectively?}
\end{uncoverenv}
\end{block}
\end{frame}

\begin{frame}{Sociological methods}
\vspace{0.5 cm}
\begin{block}{Talking to a friend who is now a sociologist:}
\begin{description}
\item[Me:] I'm thinking of creating a survey.

\item[Her:] You don't know enough to do a survey yet. Start with a focus group.
\end{description}
\end{block}

\begin{block}{What's a focus group?}
\begin{itemize}
\item Closed-door, directed conversation, led by a neutral moderator whose primary goal is to keep a minority from dominating the group and to stay on topic.

\item Transcribed: anonymous members' quotes are the data.

\item Encourages exploration: goal is to learn something {\it qualitatively} new.

\item To minimize group effect, do independent trials.
\end{itemize}
\end{block}
\end{frame}

\begin{frame}{My focus groups}

\textcolor{aug29}{August 29: 5 physicists}, \textcolor{aug31}{August 31: 5 physicists} (color code)

\begin{itemize}\setlength{\itemsep}{0.3 cm}
\item Requirement to join: must be {\it actively} analyzing data.
\item Happenstance: all late grad school or postdoc, CMS, at Fermilab's LPC. Self-selected from 15 invitations.

\item 1 hour for 3 questions, only two covered (both sessions).
\item I moderated, recorded, and later transcribed.
\end{itemize}
\end{frame}

\begin{frame}{Questions}
\vspace{0.5 cm}
\begin{enumerate}
\item What software do you use for analysis now? [subquestions]

\begin{uncoverenv}<2->
\begin{itemize}
\item {\it Extremely} varied, surprising to me and each other.
\item However, ROOT was predominant: \textcolor{aug29}{``You can't escape it. Unless you end up dumping all your data to JSON or something, and then you're going to be sad.''}
\end{itemize}
\end{uncoverenv}

\item How much time do you spend on [long list, broken down]?

\begin{uncoverenv}<3->
\begin{itemize}
\item Unable to estimate or rank: \textcolor{aug29}{``Everyone spends a lot of time on everything.''}
\end{itemize}
\end{uncoverenv}

\item Would you learn a new language if [breakdown of pros/cons]?

\begin{uncoverenv}<4->
\begin{itemize}
\item \textcolor{aug29}{3 answered}/\textcolor{aug31}{2 answered} on the Google Doc afterward.
\item Open to Julia's 1-based indexing but not lack of classes.
\item Mixed on metaprogramming and immutable data.
\item Everyone drew the line at LISP syntax: \textcolor{aug31}{``I'd quit my job if I had to do that all day.''}
\end{itemize}
\end{uncoverenv}
\end{enumerate}
\end{frame}

\begin{frame}{Unexpected variety in tools used}
\vspace{0.5 cm}
\textcolor{aug29}{``It depends on what you're doing. Recently, I'm using Excel and Pandas a lot because I'm monitoring the CMS run level 1 rate. So recently I'm using it quite a bit. It really depends on what the project is.''}

\vfill
\vfill
\textcolor{aug31}{``I use MATLAB fairly frequently for certain things.''}

\vfill
\begin{uncoverenv}<2->
\begin{block}{}
\small
HiggsCombiner, ljmet, Theta, GGNtuple

MATLAB, Mathematica, Excel, Pandas, Numpy, Bokeh, rootpy

Bash, Perl, Awk

Condor, Slurm, PBS, CRAB, LxBatch, GridControl (alternative to CRAB)

Igprof, Valgrind, gdb

NetBeans, Eclipse, XCode, Jenkins, Travis-CI

\textcolor{gray}{in addition to standard MC generators, CMSSW, and ROOT.}
\end{block}
\end{uncoverenv}
\end{frame}

\begin{frame}{Unexpected variety in tools used}
\vspace{0.5 cm}
\textcolor{aug29}{``Trying to get an IDE to cooperate with ROOT and CMSSW is just asking for pain and torture.''}

\vfill
\textcolor{aug31}{``I know of people from UCSB that use Eclipse. I always wanted to invest the time to try to do the same thing\ldots\ I tried four or five years ago--- that was painful. It failed for me.''}

\vfill
\textcolor{aug31}{``I used to use NetBeans\ldots\ but now I'm using XCode to see all of my codes.''}

\vfill
\textcolor{aug29}{``I have no simple ROOT/CMSSW example for continuous integration.''}
\end{frame}

\begin{frame}{ROOT (page 1)}
\vspace{0.5 cm}
\textcolor{aug31}{``The ROOT developers are a lot better at being software developers than I am, but I feel like there's a lot of bad design choices.''}

\vfill
\textcolor{aug31}{``I've sort of forgotten by now what a learning curve it was to learn ROOT. It has so many gotchas and so many pieces of the design you might not anticipate or ever think to do.''}

\vfill
\textcolor{aug31}{``I think also the consensus is that ROOT is very user-unfriendly.''}
\end{frame}

\begin{frame}{ROOT (page 2)}
\vspace{0.5 cm}
\textcolor{aug29}{``While it can be hard to find something, ROOT's implemented a {\it lot} of different data structures and functions.''}

\vfill
\textcolor{aug29}{``One thing I would like to say that I like about ROOT, in addition to having very fast and flexible data access, is that the developers are fairly responsive to analysis needs, at least in the medium term\ldots\ Of course, the downside is that the whole language is very poorly organized and the inheritance structure of most of the user interface classes doesn't make sense.''}

\vfill
\textcolor{aug29}{``Let's be clear: ROOT 6 is backward-incompatible even though they said it wasn't.''}

\vfill
\textcolor{aug29}{``ROOT is the most leaky program in existence.''}
\end{frame}

\begin{frame}{CMSSW (same pattern)}
\vspace{0.5 cm}
\textcolor{aug31}{``I'll start by saying I'm very thankful to the big team of developers that has developed CMSSW\ldots\ [praise]\ldots\ That being said, I'd love to not have to look at it myself.}

\vfill
\textcolor{aug31}{``I think something that might be consensus is that CMSSW or something like it is really required to funnel all of the knowledge from all the different parts of the collaboration into something runnable. But also that we try not to use it more than necessary.''}

\vfill
\textcolor{aug29}{``We don't use CMSSW and CRAB jobs; we use the FWLite version to just write C++.''}

\vfill
\textcolor{aug29}{``Most people aren't writing EDAnalyzers to do their final-step analysis.''}
\end{frame}

\begin{frame}{C++ and Python (Aug 31, mostly)}
\vspace{0.5 cm}
\textcolor{aug31}{``I like to use PyROOT because the development time to write code\ldots\ is very quick. Like, for me, it's probably an order of magnitude faster than C++.''}

\vfill
\textcolor{aug31}{``Something like Python is so much more attractive than something like C++.''}

\vfill
\textcolor{aug31}{``C++ is a language that invites mistakes.''}

\vfill
\textcolor{aug31}{``I'd say my C++ skills are somewhere in the collaboration--- not the worst, not the best--- but some of the code in CMSSW was written by people with way more appetite for C++ than I have. It can be hard to understand, just looking at the code, what the person was trying to achieve.''}
\end{frame}

\begin{frame}{Code performance}
\vspace{0.5 cm}
\textcolor{aug29}{``None of us are going to do a ten times speedup because we wrote better code.''}

\begin{center}
\begin{minipage}{0.9\linewidth}
[I don't think this is true. I've found bigger factors than this in user's analysis code. Random twiddling might unearth factors of ten.]
\end{minipage}
\end{center}

\vfill
\textcolor{aug29}{``I've actually observed that generally whenever I publish a paper, the ntuples on which I base that paper are generally the {\it worst} version of the ntuples in terms of speed and size, compared to anything around there at either side in time, because it's getting worse and then I stop and rethink and slim it down, and then it gets worse again.''}
\end{frame}

\begin{frame}{Code performance}
\vspace{0.5 cm}
\textcolor{aug31}{``There's another way of thinking about it. Currently, if you have a big farm of computers working for you, how long are you going to wait for an analysis iteration? I would say it's like an hour. Maybe you can get through a handful of analysis iterations in a day. If it gets much slower than that, it's like, sort of an intolerable setup.''}

\vspace{0.5 cm}
\textcolor{aug31}{``An hour is an intolerable setup? Wow.''}

\vspace{0.5 cm}
\textcolor{aug31}{``Or more. Yeah, if you need, like, two hours per iteration, that's pretty tough. In a day's work, you don't make four tests.''}
\end{frame}

\begin{frame}{Conclusions}
\vspace{0.25 cm}
\begin{itemize}\setlength{\itemsep}{0.5 cm}
\item My questions definitely wouldn't have worked as a survey, but the focus group raised issues I hadn't been thinking about, as desired.

\item General takeaway:
\begin{itemize}
\item Physicists are plastic: they'll adapt to any new thing if there's a point to it and it gets the job done.
\item They're taking it upon themselves to look for time-saving tools.
\item One group was strongly in favor of Python over C++. The other didn't bring it up.
\item They underestimate the possibility of code performance gains, though big factors would impact their lives.
\end{itemize}

\item I'm planning another focus group in January to get feedback on the design of my Femtocode project.
\end{itemize}
\end{frame}
\end{document}
